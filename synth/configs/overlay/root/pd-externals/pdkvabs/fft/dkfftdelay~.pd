#N canvas 639 156 1474 1124 12;
#X obj 44 165 inlet~;
#X obj 195 180 pdkvabs/dkhannblock~;
#X obj 422 541 * 3;
#X obj 422 566 / 2;
#X obj 469 30 inlet;
#X msg 571 353 set \$1 4;
#X text 526 27 fft size;
#X obj 44 190 *~;
#X obj 44 215 rfft~, f 30;
#X text 210 365 write real/imag to delay lines;
#X text 195 401 so values for bin i occur every i*blocksize samples
;
#X text 198 431 in delay buf;
#X obj 785 56 inlet;
#X obj 201 568 -~;
#X obj 250 520 wrap~;
#X obj 201 593 *~ 512;
#X text 492 479 since values for bin i occur every i*blocksize samples
;
#X text 488 509 need to multiply by blocksize to get bin i's progression
;
#X text 493 533 in time (we're also limited to a resolution time-wise
of;
#X text 498 562 blocksize since we only have values for each bin every
;
#X text 497 592 blocksize);
#X obj 201 618 /~ 44.1;
#X text 281 619 divide by samprate in ms for delread units;
#X obj 172 685 delread4~ \$0-ezfftdel_r;
#X obj 399 691 delread4~ \$0-ezfftdel_i;
#X obj 81 880 /~ 768;
#X obj 286 886 /~ 768;
#X obj 87 930 rifft~, f 29;
#X obj 146 980 *~;
#X obj 146 1005 outlet~;
#X obj 469 731 *~;
#X obj 260 739 *~;
#X obj 172 335 delwrite~ \$0-ezfftdel_r \$2;
#X obj 311 292 delwrite~ \$0-ezfftdel_i \$2;
#X obj 632 25 inlet;
#X text 690 27 fft on/off;
#X obj 580 428 switch~;
#X text 49 36 dkfftdelay~ - spectral delay;
#X text 54 60 args: fftsize \, max delay * 4 \, delay array \, fb array
;
#X obj 201 464 tabreceive~ \$3;
#X obj 680 676 tabreceive~ \$4;
#X obj 573 301 max 1;
#X obj 600 71 loadbang;
#X obj 588 159 f \$1;
#X obj 570 213 moses 1, f 12;
#X msg 546 251 1024;
#X obj 589 110 t b b;
#X msg 674 390 1;
#X obj 771 135 / 1000;
#X obj 859 143 symbol;
#X msg 859 168 set \$1;
#X obj 944 149 symbol;
#X msg 944 174 set \$1;
#X text 59 92 inlets: signal \, fftsize \, fft on/off;
#X text 72 122 messages (samplerate \, set_delay \, set_fb);
#X text 1320 32 derek kwan;
#X text 1325 65 pdkvabs;
#X text 1327 98 GPL V 3 2017;
#X text 840 57 messages;
#X obj 21 691 *~ 1;
#X obj 83 686 *~ 1;
#X obj 783 85 route samplerate set_delay set_fb dry wet, f 55;
#X obj 160 843 *~ 1;
#X obj 389 839 *~ 1;
#X obj 984 123 s \$0-fftdel_dry;
#X obj 1104 142 s \$0-fftdel_wet;
#X obj 250 798 r \$0-fftdel_wet;
#X obj 41 623 r \$0-fftdel_dry;
#X connect 0 0 7 0;
#X connect 1 0 7 1;
#X connect 1 0 28 1;
#X connect 2 0 3 0;
#X connect 3 0 25 1;
#X connect 3 0 26 1;
#X connect 4 0 41 0;
#X connect 5 0 36 0;
#X connect 7 0 8 0;
#X connect 8 0 32 0;
#X connect 8 0 59 0;
#X connect 8 1 33 0;
#X connect 8 1 60 0;
#X connect 12 0 61 0;
#X connect 13 0 15 0;
#X connect 14 0 13 1;
#X connect 15 0 21 0;
#X connect 21 0 23 0;
#X connect 21 0 24 0;
#X connect 23 0 31 0;
#X connect 23 0 62 0;
#X connect 24 0 30 0;
#X connect 24 0 63 0;
#X connect 25 0 27 0;
#X connect 26 0 27 1;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 30 0 33 0;
#X connect 31 0 32 0;
#X connect 34 0 36 0;
#X connect 39 0 13 0;
#X connect 39 0 14 0;
#X connect 40 0 31 1;
#X connect 40 0 30 1;
#X connect 41 0 5 0;
#X connect 41 0 2 0;
#X connect 41 0 15 1;
#X connect 41 0 1 0;
#X connect 42 0 46 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 44 1 41 0;
#X connect 45 0 41 0;
#X connect 46 0 47 0;
#X connect 46 1 43 0;
#X connect 47 0 36 0;
#X connect 48 0 21 1;
#X connect 49 0 50 0;
#X connect 50 0 39 0;
#X connect 51 0 52 0;
#X connect 52 0 40 0;
#X connect 59 0 25 0;
#X connect 60 0 26 0;
#X connect 61 0 48 0;
#X connect 61 1 49 0;
#X connect 61 2 51 0;
#X connect 61 3 64 0;
#X connect 61 4 65 0;
#X connect 62 0 25 0;
#X connect 63 0 26 0;
#X connect 66 0 62 1;
#X connect 66 0 63 1;
#X connect 67 0 59 1;
#X connect 67 0 60 1;
